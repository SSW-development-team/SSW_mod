RUS_reintegrate_states = {
	add_core_states_of_russia = {
		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = adding_state_core }
			hidden_trigger = {
				FROM = {
					NOT = { is_core_of = ROOT }
					has_state_flag = maybe_old_territory_RUSSIA
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = controlled_states
		target_trigger = {
			OR = {
				original_tag = ACO
				original_tag = AMC
				original_tag = BLO
				original_tag = FAR
				original_tag = NBL
				original_tag = RBL
				original_tag = RLB
				original_tag = RSE
				original_tag = RUS
				original_tag = SOV
				original_tag = TOA
				has_cosmetic_tag = AMR_russia
				has_cosmetic_tag = MOS_russia
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = TUV_russia
				AND = {
					tag = CHL
					LFF = { has_completed_focus = LFF_place_to_return_for_stalin }
				}
			}
			hidden_trigger = {
				FROM = {
					NOT = { is_core_of = ROOT }
					has_state_flag = maybe_old_territory_RUSSIA
				}
			}
		}
		cost = 0
		fire_only_once = yes
		days_remove = 14
		modifier = { political_power_gain = -1 }
		visible = {
			OR = {
				original_tag = ACO
				original_tag = AMC
				original_tag = BLO
				original_tag = FAR
				original_tag = NBL
				original_tag = RBL
				original_tag = RLB
				original_tag = RSE
				original_tag = RUS
				original_tag = SOV
				original_tag = TOA
				has_cosmetic_tag = AMR_russia
				has_cosmetic_tag = MOS_russia
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = TUV_russia
				AND = {
					tag = CHL
					LFF = { has_completed_focus = LFF_place_to_return_for_stalin }
				}
			}
			hidden_trigger = {
				FROM = {
					NOT = { is_core_of = ROOT }
					has_state_flag = maybe_old_territory_RUSSIA
				}
			}
		}
		complete_effect = { set_country_flag = adding_state_core }
		remove_effect = {
			clr_country_flag = adding_state_core
			FROM = { add_core_of = ROOT }
		}
	}
}
interventio_in_german_civil_war = {
	support_nazism = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			has_equipment = { convoy > 499 }
			OR = {
				AND = {
					any_state = {
						is_controlled_by = GER
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
				AND = {
					any_state = {
						controller = {
							has_opinion = {
								target = GER
								value > 24
							}
						}
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = GER
						is_coastal = no
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
			}
			GER = {
				OR = {
					has_war_with = LTV
					has_war_with = HLH
					has_war_with = HGR
					has_war_with = MBR
				}
			}
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
				has_country_flag = support_germany
			}
		}
		cost = 50
		fire_only_once = no
		ai_will_do = {
			factor = 1
			modifier = {
				add = 99
				OR = {
					AND = {
						tag = CRO
						has_full_control_of_state = 971
						has_full_control_of_state = 972
						has_full_control_of_state = 976
						has_full_control_of_state = 977
					}
					AND = {
						tag = FSA
						NOT = {
							country_exists = ALF
							country_exists = LFF
							country_exists = UTC
						}
					}
					AND = {
						tag = RUS
						has_completed_focus = RUS_the_great_coup
					}
					AND = {
						tag = SPR
						has_completed_focus = SPR_faranhe
					}
					tag = ARG
					tag = CHI
					tag = NFR
					tag = POR
				}
			}
		}
		visible = {
			NOT = {
				has_global_flag = GER_civil_war_end
				tag = GER
				tag = LTV
				tag = HLH
				tag = HGR
				tag = MBR
			}
		}
		complete_effect = {
			army_experience = 20
			send_equipment = { target = GER type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = GER modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				set_country_flag = intervention_nazism
				GER = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	support_vorbeck = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			has_equipment = { convoy > 499 }
			OR = {
				AND = {
					any_state = {
						is_controlled_by = LTV
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
				AND = {
					any_state = {
						controller = {
							has_opinion = {
								target = LTV
								value > 24
							}
						}
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = LTV
						is_coastal = no
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
			}
			LTV = {
				OR = {
					has_war_with = GER
					has_war_with = HLH
					has_war_with = HGR
					has_war_with = MBR
				}
			}
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
				has_country_flag = support_germany
			}
		}
		cost = 50
		fire_only_once = no
		ai_will_do = {
			factor = 1
			modifier = {
				add = 99
				OR = {
					AND = {
						tag = MEX
						has_completed_focus = MEX_invite_the_emperor
					}
					AND = {
						tag = RUS
						has_completed_focus = RUS_rise_of_the_republic
					}
					AND = {
						tag = SPR
						has_completed_focus = SPR_outouha
					}
					tag = ENG
					tag = SWE
					tag = FIN
				}
			}
		}
		visible = {
			NOT = {
				has_global_flag = GER_civil_war_end
				tag = GER
				tag = LTV
				tag = HLH
				tag = HGR
				tag = MBR
			}
		}
		complete_effect = {
			army_experience = 20
			send_equipment = { target = LTV type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = LTV modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				set_country_flag = intervention_vorbeck
				LTV = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	support_himmler = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			has_equipment = { convoy > 499 }
			OR = {
				AND = {
					any_state = {
						is_controlled_by = HLH
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
				AND = {
					any_state = {
						controller = {
							has_opinion = {
								target = HLH
								value > 24
							}
						}
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = HLH
						is_coastal = no
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
			}
			HLH = {
				OR = {
					has_war_with = GER
					has_war_with = LTV
					has_war_with = HGR
					has_war_with = MBR
				}
			}
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
				has_country_flag = support_germany
			}
		}
		cost = 50
		fire_only_once = no
		ai_will_do = {
			factor = 1
			modifier = {
				add = 99
				OR = {
					AND = {
						tag = MEX
						has_completed_focus = MEX_regime_change
					}
					AND = {
						tag = RUS
						has_completed_focus = RUS_the_great_coup
					}
					AND = {
						tag = SPR
						has_completed_focus = SPR_franco
					}
					tag = FIN
					tag = ITA
					tag = NFR
				}
			}
		}
		visible = {
			NOT = {
				has_global_flag = GER_civil_war_end
				tag = GER
				tag = LTV
				tag = HLH
				tag = HGR
				tag = MBR
			}
		}
		complete_effect = {
			army_experience = 20
			send_equipment = { target = HLH type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = HLH modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				set_country_flag = intervention_himmler
				HLH = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	support_goring = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			has_equipment = { convoy > 499 }
			OR = {
				AND = {
					any_state = {
						is_controlled_by = HGR
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
				AND = {
					any_state = {
						controller = {
							has_opinion = {
								target = HGR
								value > 24
							}
						}
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = HGR
						is_coastal = no
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
			}
			HGR = {
				OR = {
					has_war_with = GER
					has_war_with = LTV
					has_war_with = HLH
					has_war_with = MBR
				}
			}
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
				has_country_flag = support_germany
			}
		}
		cost = 50
		fire_only_once = no
		ai_will_do = {
			factor = 1
			modifier = {
				add = 99
				OR = {
					AND = {
						tag = BUL
						has_full_control_of_state = 973
						has_full_control_of_state = 975
					}
					AND = {
						tag = CRO
						has_full_control_of_state = 971
						has_full_control_of_state = 972
						has_full_control_of_state = 976
						has_full_control_of_state = 977
					}
					AND = {
						tag = HUN
						has_full_control_of_state = 82
						has_full_control_of_state = 83
						has_full_control_of_state = 84
					}
					AND = {
						tag = RUS
						has_completed_focus = RUS_the_great_coup
					}
					AND = {
						tag = SPR
						has_completed_focus = SPR_franco
					}
					tag = ITA
				}
			}
		}
		visible = {
			NOT = {
				has_global_flag = GER_civil_war_end
				tag = GER
				tag = LTV
				tag = HLH
				tag = HGR
				tag = MBR
			}
		}
		complete_effect = {
			army_experience = 20
			send_equipment = { target = HGR type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = HGR modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				set_country_flag = intervention_goring
				HGR = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	support_bormann = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			has_equipment = { convoy > 499 }
			OR = {
				AND = {
					any_state = {
						is_controlled_by = MBR
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
				AND = {
					any_state = {
						controller = {
							has_opinion = {
								target = MBR
								value > 24
							}
						}
						is_coastal = yes
					}
					any_state = {
						is_controlled_by = MBR
						is_coastal = no
					}
					any_state = {
						is_controlled_by = ROOT
						is_coastal = yes
					}
				}
			}
			MBR = {
				OR = {
					has_war_with = LTV
					has_war_with = HLH
					has_war_with = HGR
					has_war_with = GER
				}
			}
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
				has_country_flag = support_germany
			}
		}
		cost = 50
		fire_only_once = no
		ai_will_do = {
			factor = 1
			modifier = {
				add = 99
				OR = {
					AND = {
						tag = CRO
						has_full_control_of_state = 971
						has_full_control_of_state = 972
						has_full_control_of_state = 976
						has_full_control_of_state = 977
					}
					AND = {
						tag = FSA
						NOT = {
							country_exists = ALF
							country_exists = LFF
							country_exists = UTC
						}
					}
					AND = {
						tag = RUS
						has_completed_focus = RUS_the_great_coup
					}
					AND = {
						tag = SPR
						has_completed_focus = SPR_faranhe
					}
					tag = ARG
					tag = CHI
					tag = NFR
					tag = POR
				}
			}
		}
		visible = {
			NOT = {
				has_global_flag = GER_civil_war_end
				tag = GER
				tag = LTV
				tag = HLH
				tag = HGR
				tag = MBR
			}
		}
		complete_effect = {
			army_experience = 20
			send_equipment = { target = MBR type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = MBR modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				set_country_flag = intervention_bormann
				MBR = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	declaration_of_war_with_nazism = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 14999 }
			has_army_manpower = { size > 499999 }
			has_war_support > 0.8
			has_war = no
			GER = {
				is_neighbor_of = ROOT
				OR = {
					has_war_with = LTV
					has_war_with = HLH
					has_war_with = HGR
				}
			}
			has_country_flag = intervention_nazism
			NOT = { has_country_flag = declaration_of_war }
		}
		cost = 150
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = {
			OR = {
				AND = {
					tag = CRO
					has_full_control_of_state = 971
					has_full_control_of_state = 972
					has_full_control_of_state = 976
					has_full_control_of_state = 977
				}
				AND = {
					tag = FSA
					NOT = {
						country_exists = ALF
						country_exists = LFF
						country_exists = UTC
					}
				}
				AND = {
					tag = RUS
					has_completed_focus = RUS_the_great_coup
				}
				AND = {
					tag = SPR
					has_completed_focus = SPR_faranhe
				}
				tag = ARG
				tag = CHI
				tag = NFR
				tag = POR
			}
			is_subject = no
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
			}
		}
		complete_effect = {
			if = {
				limit = { country_exists = LTV }
				declare_war_on = { target = LTV type = annex_everything }
			}
			if = {
				limit = { country_exists = HLH }
				declare_war_on = { target = HLH type = annex_everything }
			}
			if = {
				limit = { country_exists = HGR }
				declare_war_on = { target = HGR type = annex_everything }
			}
			if = {
				limit = { country_exists = MBR }
				declare_war_on = { target = MBR type = annex_everything }
			}
			hidden_effect = {
				set_country_flag = declaration_of_war
				GER = {
					give_military_access = ROOT
					diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				}
				if = {
					limit = { NOT = { GER = { has_country_flag = supported_by_other_countries } } }
					GER = { set_country_flag = supported_by_other_countries }
				}
			}
		}
	}
	declaration_of_war_with_vorbeck = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 14999 }
			has_army_manpower = { size > 499999 }
			has_war_support > 0.8
			has_war = no
			LTV = {
				is_neighbor_of = ROOT
				OR = {
					has_war_with = GER
					has_war_with = HLH
					has_war_with = HGR
				}
			}
			has_country_flag = intervention_vorbeck
			NOT = { has_country_flag = declaration_of_war }
		}
		cost = 150
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = {
			OR = {
				AND = {
					tag = MEX
					has_completed_focus = MEX_invite_the_emperor
				}
				AND = {
					tag = RUS
					has_completed_focus = RUS_rise_of_the_republic
				}
				AND = {
					tag = SPR
					has_completed_focus = SPR_outouha
				}
				tag = ENG
				tag = SWE
				tag = FIN
			}
			is_subject = no
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
			}
		}
		complete_effect = {
			if = {
				limit = { country_exists = GER }
				declare_war_on = { target = GER type = annex_everything }
			}
			if = {
				limit = { country_exists = HLH }
				declare_war_on = { target = HLH type = annex_everything }
			}
			if = {
				limit = { country_exists = HGR }
				declare_war_on = { target = HGR type = annex_everything }
			}
			if = {
				limit = { country_exists = MBR }
				declare_war_on = { target = MBR type = annex_everything }
			}
			hidden_effect = {
				set_country_flag = declaration_of_war
				LTV = {
					give_military_access = ROOT
					diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				}
				if = {
					limit = { NOT = { LTV = { has_country_flag = supported_by_other_countries } } }
					LTV = { set_country_flag = supported_by_other_countries }
				}
			}
		}
	}
	declaration_of_war_with_himmler = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 14999 }
			has_army_manpower = { size > 499999 }
			has_war_support > 0.8
			has_war = no
			HLH = {
				is_neighbor_of = ROOT
				OR = {
					has_war_with = GER
					has_war_with = LTV
					has_war_with = HGR
				}
			}
			has_country_flag = intervention_himmler
			NOT = { has_country_flag = declaration_of_war }
		}
		cost = 150
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = {
			OR = {
				AND = {
					tag = MEX
					has_completed_focus = MEX_regime_change
				}
				AND = {
					tag = RUS
					has_completed_focus = RUS_the_great_coup
				}
				AND = {
					tag = SPR
					has_completed_focus = SPR_franco
				}
				tag = FIN
				tag = ITA
				tag = NFR
			}
			is_subject = no
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
			}
		}
		complete_effect = {
			if = {
				limit = { country_exists = GER }
				declare_war_on = { target = GER type = annex_everything }
			}
			if = {
				limit = { country_exists = LTV }
				declare_war_on = { target = LTV type = annex_everything }
			}
			if = {
				limit = { country_exists = HGR }
				declare_war_on = { target = HGR type = annex_everything }
			}
			if = {
				limit = { country_exists = MBR }
				declare_war_on = { target = MBR type = annex_everything }
			}
			hidden_effect = {
				set_country_flag = declaration_of_war
				HLH = {
					give_military_access = ROOT
					diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				}
				if = {
					limit = { NOT = { HLH = { has_country_flag = supported_by_other_countries } } }
					HLH = { set_country_flag = supported_by_other_countries }
				}
			}
		}
	}
	declaration_of_war_with_goring = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 14999 }
			has_army_manpower = { size > 499999 }
			has_war_support > 0.8
			has_war = no
			HGR = {
				is_neighbor_of = ROOT
				OR = {
					has_war_with = GER
					has_war_with = LTV
					has_war_with = HLH
				}
			}
			has_country_flag = intervention_goring
			NOT = { has_country_flag = declaration_of_war }
		}
		cost = 150
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = {
			OR = {
				AND = {
					tag = BUL
					has_full_control_of_state = 973
					has_full_control_of_state = 975
				}
				AND = {
					tag = CRO
					has_full_control_of_state = 971
					has_full_control_of_state = 972
					has_full_control_of_state = 976
					has_full_control_of_state = 977
				}
				AND = {
					tag = HUN
					has_full_control_of_state = 82
					has_full_control_of_state = 83
					has_full_control_of_state = 84
				}
				AND = {
					tag = RUS
					has_completed_focus = RUS_the_great_coup
				}
				AND = {
					tag = SPR
					has_completed_focus = SPR_franco
				}
				tag = ITA
			}
			is_subject = no
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
			}
		}
		complete_effect = {
			if = {
				limit = { country_exists = GER }
				declare_war_on = { target = GER type = annex_everything }
			}
			if = {
				limit = { country_exists = LTV }
				declare_war_on = { target = LTV type = annex_everything }
			}
			if = {
				limit = { country_exists = HLH }
				declare_war_on = { target = HLH type = annex_everything }
			}
			if = {
				limit = { country_exists = MBR }
				declare_war_on = { target = MBR type = annex_everything }
			}
			hidden_effect = {
				set_country_flag = declaration_of_war
				HGR = {
					give_military_access = ROOT
					diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				}
				if = {
					limit = { NOT = { HGR = { has_country_flag = supported_by_other_countries } } }
					HGR = { set_country_flag = supported_by_other_countries }
				}
			}
		}
	}
	declaration_of_war_with_bormann = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 14999 }
			has_army_manpower = { size > 499999 }
			has_war_support > 0.8
			has_war = no
			MBR = {
				is_neighbor_of = ROOT
				OR = {
					has_war_with = LTV
					has_war_with = HLH
					has_war_with = HGR
					has_war_with = GER
				}
			}
			has_country_flag = intervention_bormann
			NOT = { has_country_flag = declaration_of_war }
		}
		cost = 150
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = {
			OR = {
				AND = {
					tag = CRO
					has_full_control_of_state = 971
					has_full_control_of_state = 972
					has_full_control_of_state = 976
					has_full_control_of_state = 977
				}
				AND = {
					tag = FSA
					NOT = {
						country_exists = ALF
						country_exists = LFF
						country_exists = UTC
					}
				}
				AND = {
					tag = RUS
					has_completed_focus = RUS_the_great_coup
				}
				AND = {
					tag = SPR
					has_completed_focus = SPR_faranhe
				}
				tag = ARG
				tag = CHI
				tag = NFR
				tag = POR
			}
			is_subject = no
			NOT = {
				has_government = anarchism
				has_government = progressive_communism
				has_government = classical_communism
				has_global_flag = GER_civil_war_end
			}
		}
		complete_effect = {
			if = {
				limit = { country_exists = GER }
				declare_war_on = { target = GER type = annex_everything }
			}
			if = {
				limit = { country_exists = LTV }
				declare_war_on = { target = LTV type = annex_everything }
			}
			if = {
				limit = { country_exists = HLH }
				declare_war_on = { target = HLH type = annex_everything }
			}
			if = {
				limit = { country_exists = HGR }
				declare_war_on = { target = HGR type = annex_everything }
			}
			hidden_effect = {
				set_country_flag = declaration_of_war
				MBR = {
					give_military_access = ROOT
					diplomatic_relation = { country = ROOT relation = non_aggression_pact }
				}
				if = {
					limit = { NOT = { MBR = { has_country_flag = supported_by_other_countries } } }
					MBR = { set_country_flag = supported_by_other_countries }
				}
			}
		}
	}
	end_of_gcw = {
		icon = generic_operation
		days_mission_timeout = 200
		is_good = no
		fire_only_once = yes
		available = {
			OR = {
				AND = {
					has_country_flag = intervention_nazism
					NOT = {
						country_exists = LTV
						country_exists = HLH
						country_exists = HGR
						country_exists = MBR
					}
				}
				AND = {
					has_country_flag = intervention_vorbeck
					NOT = {
						country_exists = GER
						country_exists = HLH
						country_exists = HGR
						country_exists = MBR
					}
				}
				AND = {
					has_country_flag = intervention_himmler
					NOT = {
						country_exists = GER
						country_exists = LTV
						country_exists = HGR
						country_exists = MBR
					}
				}
				AND = {
					has_country_flag = intervention_goring
					NOT = {
						country_exists = GER
						country_exists = LTV
						country_exists = HLH
						country_exists = MBR
					}
				}
				AND = {
					has_country_flag = intervention_bormann
					NOT = {
						country_exists = GER
						country_exists = LTV
						country_exists = HLH
						country_exists = HGR
					}
				}
			}
		}
		activation = { has_country_flag = declaration_of_war }
		ai_will_do = { factor = 10 }
		visible = { has_country_flag = declaration_of_war }
		complete_effect = { add_political_power = 150 }
		timeout_effect = {
			custom_effect_tooltip = lose_public_support_tt
			add_stability = -0.15
			add_war_support = -0.15
			add_popularity = {
				ideology = ROOT
				popularity = -0.1
			}
		}
	}
}
the_seeds_of_revolution = {
	RUS_integrate_commune_1 = {
		name = SPR_integrate_commune
		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = adding_state_core }
			FROM = {
				compliance > 60
				OR = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = controlled_states
		target_trigger = {
			has_government = anarchism
			FROM = {
				NOT = { is_core_of = ROOT }
				OR = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
				compliance > 35
			}
		}
		cost = 100
		fire_only_once = yes
		days_remove = 14
		modifier = { political_power_gain = -1 }
		visible = {
			has_government = anarchism
			FROM = {
				OR = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		complete_effect = { set_country_flag = adding_state_core }
		remove_effect = {
			clr_country_flag = adding_state_core
			FROM = { add_core_of = ROOT }
			transfer_state = FROM
			if = {
				limit = {
					has_idea = RUS_anarchist_society_1
					NOT = { has_country_flag = RUS_anachism_flag }
				}
				swap_ideas = {
					remove_idea = RUS_anarchist_society_1
					add_idea = RUS_anarchist_society_2
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_2 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_2
					add_idea = RUS_anarchist_society_3
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_3 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_3
					add_idea = RUS_anarchist_society_4
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_4 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_4
					add_idea = RUS_anarchist_society_5
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_5 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_5
					add_idea = RUS_anarchist_society_6
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_6 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_6
					add_idea = RUS_anarchist_society_7
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_7 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_7
					add_idea = RUS_anarchist_society_8
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_8 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_8
					add_idea = RUS_anarchist_society_9
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_9 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_9
					add_idea = RUS_anarchist_society_10
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_10 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_10
					add_idea = RUS_anarchist_society_11
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_11 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_11
					add_idea = RUS_anarchist_society_12
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_12 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_12
					add_idea = RUS_anarchist_society_13
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_13 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_13
					add_idea = RUS_anarchist_society_14
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_14 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_14
					add_idea = RUS_anarchist_society_15
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_15 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_15
					add_idea = RUS_anarchist_society_16
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_16 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_16
					add_idea = RUS_anarchist_society_17
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_17 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_17
					add_idea = RUS_anarchist_society_18
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_18 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_18
					add_idea = RUS_anarchist_society_19
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_19 }
				add_war_support = 0.05
			}
		}
	}
	RUS_integrate_commune_2 = {
		name = SPR_integrate_commune
		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = adding_state_core }
			FROM = {
				compliance > 60
				NOT = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = controlled_states
		target_trigger = {
			has_government = anarchism
			FROM = {
				NOT = {
					is_core_of = ROOT
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
				compliance > 35
			}
		}
		cost = 100
		fire_only_once = yes
		days_remove = 14
		modifier = { political_power_gain = -1 }
		visible = {
			has_government = anarchism
			FROM = {
				NOT = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		complete_effect = { set_country_flag = adding_state_core }
		remove_effect = {
			clr_country_flag = adding_state_core
			FROM = { add_core_of = ROOT }
			transfer_state = FROM
			if = {
				limit = {
					has_idea = RUS_anarchist_society_1
					NOT = { has_country_flag = RUS_anachism_flag }
				}
				swap_ideas = {
					remove_idea = RUS_anarchist_society_1
					add_idea = RUS_anarchist_society_2
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_2 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_2
					add_idea = RUS_anarchist_society_3
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_3 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_3
					add_idea = RUS_anarchist_society_4
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_4 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_4
					add_idea = RUS_anarchist_society_5
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_5 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_5
					add_idea = RUS_anarchist_society_6
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_6 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_6
					add_idea = RUS_anarchist_society_7
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_7 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_7
					add_idea = RUS_anarchist_society_8
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_8 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_8
					add_idea = RUS_anarchist_society_9
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_9 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_9
					add_idea = RUS_anarchist_society_10
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_10 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_10
					add_idea = RUS_anarchist_society_11
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_11 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_11
					add_idea = RUS_anarchist_society_12
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_12 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_12
					add_idea = RUS_anarchist_society_13
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_13 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_13
					add_idea = RUS_anarchist_society_14
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_14 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_14
					add_idea = RUS_anarchist_society_15
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_15 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_15
					add_idea = RUS_anarchist_society_16
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_16 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_16
					add_idea = RUS_anarchist_society_17
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_17 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_17
					add_idea = RUS_anarchist_society_18
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_18 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_18
					add_idea = RUS_anarchist_society_19
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_19 }
				add_war_support = 0.05
			}
		}
	}
}
RUS_ussr_revives = {
	formable_ussr = {
		icon = generic_form_nation
		available = {
			has_completed_focus = RUS_revive_soviet
			146 = { is_core_of = RUS }
			147 = { is_core_of = RUS }
			722 = { is_core_of = RUS }
			all_state = { 
				OR = {
					NOT = { is_core_of = RUS }
					is_controlled_by = RUS
				}
			}
		}
		cost = 0
		fire_only_once = yes
		ai_will_do = { factor = 10 }
		visible = {
			has_completed_focus = RUS_revive_soviet
			has_idea = RUS_soviet_heritage
			tag = RUS
		}
		complete_effect = {
			set_cosmetic_tag = SOV
			if = {
				limit = { NOT = { has_idea = rus_ideas_40 } }
				swap_ideas = {
					remove_idea = RUS_soviet_heritage
					add_idea = rus_ideas_40
				}
			}
		}
	}
}
RUS_change_capital = {
	capital_moscow = {
		icon = generic_form_nation
		available = {
			NOT = { has_country_flag = configuration_capital_of_russia }
			has_full_control_of_state = 219
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		cost = 150
		fire_only_once = yes
		ai_will_do = { factor = 10 }
		visible = {
			OR = {
				original_tag = ACO
				original_tag = AMC
				original_tag = BLO
				original_tag = FAR
				original_tag = NBL
				original_tag = RBL
				original_tag = RLB
				original_tag = RSE
				original_tag = RUS
				original_tag = SOV
				original_tag = TOA
				has_cosmetic_tag = AMR_russia
				has_cosmetic_tag = MOS_russia
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = TUV_russia
				AND = {
					tag = CHL
					LFF = { has_completed_focus = LFF_place_to_return_for_stalin }
				}
			}
			NOT = { has_country_flag = configuration_capital_of_russia }
			has_full_control_of_state = 219
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		complete_effect = {
			set_capital = 219
			hidden_effect = {
				set_country_flag = configuration_capital_of_russia
				set_country_flag = return_capital_of_moscow
			}
		}
	}
	capital_petersburg = {
		icon = generic_form_nation
		available = {
			NOT = { has_country_flag = configuration_capital_of_russia }
			has_full_control_of_state = 195
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		cost = 150
		fire_only_once = yes
		ai_will_do = { factor = 10 }
		visible = {
			OR = {
				original_tag = ACO
				original_tag = AMC
				original_tag = BLO
				original_tag = FAR
				original_tag = NBL
				original_tag = RBL
				original_tag = RLB
				original_tag = RSE
				original_tag = RUS
				original_tag = SOV
				original_tag = TOA
				has_cosmetic_tag = AMR_russia
				has_cosmetic_tag = MOS_russia
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = TUV_russia
			}
			NOT = { has_country_flag = configuration_capital_of_russia }
			has_full_control_of_state = 195
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		complete_effect = {
			set_capital = 195
			195 = { set_state_name = Petersburg }
			set_province_name = { id = 3151 name = Petersburg }
			hidden_effect = {
				set_country_flag = configuration_capital_of_russia
				set_country_flag = return_capital_of_petersburg
			}
		}
	}
}
